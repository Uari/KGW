<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mybatis.mapper.Kiwoom.Mapper">




    <select id="kiwoomList" parameterType="map" resultType="map">
        select * from kiwoom
        <where>
            <if test="k_no != null">AND k_no=#{k_no}</if>
            <if test="gubun!=null">
                <choose>
                    <when test='gubun.equals("k_name")'>
                        AND k_name LIKE '%'||#{keyword}||'%'
                    </when>
                    <when test='gubun.equals("k_num")'>
                        AND k_num LIKE '%'||#{keyword}||'%'
                    </when>
                    <when test='gubun.equals("k_pos")'>
                        AND k_pos LIKE '%'||#{keyword}||'%'
                    </when>
                </choose>
            </if>
        </where>
    </select>


</mapper>